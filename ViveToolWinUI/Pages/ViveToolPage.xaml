<Page
    x:Class="ViveToolWinUI.Pages.ViveToolPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:local="using:ViveToolWinUI.Pages">

    <!-- whole page scrollable -->
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Padding="16" Spacing="12">

            <!-- Title (localized via x:Uid) -->
            <TextBlock x:Uid="PageTitle"
                       FontSize="22"
                       FontWeight="SemiBold"
                       VerticalAlignment="Center"
                       Margin="0,0,0,8"/>

            <!-- Action card (ThemeShadow + Translation for visible shadow) -->
            <Border Padding="12" CornerRadius="8"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource SystemControlBackgroundBaseLowBrush}"
                    BorderThickness="1"
                    Translation="0,0,16">
                <Border.Shadow>
                    <ThemeShadow/>
                </Border.Shadow>

                <StackPanel Spacing="12">
                    <TextBlock x:Uid="ActionTitle" FontWeight="SemiBold"/>

                    <ComboBox x:Name="cmbAction" SelectedIndex="0" Width="280">
                        <ComboBoxItem x:Uid="ActionEnable"/>
                        <ComboBoxItem x:Uid="ActionDisable"/>
                        <ComboBoxItem x:Uid="ActionReset"/>
                    </ComboBox>

                    <TextBlock x:Uid="FeatureIdLabel" FontWeight="SemiBold" Margin="0,6,0,0"/>
                    <TextBox x:Name="txtFeatureId" x:Uid="FeatureIdBox"/>

                    <TextBlock x:Uid="OptionalParamsLabel" FontWeight="SemiBold" Margin="0,6,0,0"/>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <CheckBox x:Name="chkReboot" VerticalAlignment="Center" x:Uid="AutoReboot"/>
                        <CheckBox x:Name="chkVerbose" VerticalAlignment="Center" x:Uid="VerboseOutput"/>

                        <!-- Accent button -->
                        <Button x:Name="btnRun" Width="160"
                                Style="{StaticResource AccentButtonStyle}"
                                Click="Run_Click"
                                x:Uid="RunButton"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Quick commands area (kept untranslated per request) -->
            <Border Padding="12" CornerRadius="8"
                    Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                    BorderBrush="{ThemeResource SystemControlBackgroundBaseLowBrush}"
                    BorderThickness="1"
                    Translation="0,0,16">
                <Border.Shadow>
                    <ThemeShadow/>
                </Border.Shadow>

                <StackPanel Spacing="12">
                    <TextBlock x:Uid="QuickCmdTitle" FontWeight="SemiBold"/>

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Button Grid.Row="0" Grid.Column="0" Margin="4" Click="Preset_Query_Click">
                            <TextBlock Text="/query" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="0" Grid.Column="1" Margin="4" Click="Preset_FullReset_Click">
                            <TextBlock Text="/fullreset" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="0" Grid.Column="2" Margin="4" Click="Preset_ChangeStamp_Click">
                            <TextBlock Text="/changestamp" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>

                        <Button Grid.Row="1" Grid.Column="0" Margin="4" Click="Preset_QuerySubs_Click">
                            <TextBlock Text="/querysubs" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="1" Grid.Column="1" Margin="4" Click="Preset_AddSub_Click">
                            <TextBlock Text="/addsub" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="1" Grid.Column="2" Margin="4" Click="Preset_DelSub_Click">
                            <TextBlock Text="/delsub" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>

                        <Button Grid.Row="2" Grid.Column="0" Margin="4" Click="Preset_NotifyUsage_Click">
                            <TextBlock Text="/notifyusage" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="2" Grid.Column="1" Margin="4" Click="Preset_Export_Click">
                            <TextBlock Text="/export" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="2" Grid.Column="2" Margin="4" Click="Preset_Import_Click">
                            <TextBlock Text="/import" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>

                        <Button Grid.Row="3" Grid.Column="0" Margin="4" Click="Preset_LkgStatus_Click">
                            <TextBlock Text="/lkgstatus" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="3" Grid.Column="1" Margin="4" Click="Preset_FixLkg_Click">
                            <TextBlock Text="/fixlkg" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="3" Grid.Column="2" Margin="4" Click="Preset_FixPriority_Click">
                            <TextBlock Text="/fixpriority" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>

                        <Button Grid.Row="4" Grid.Column="0" Margin="4" Click="Preset_AppUpdate_Click">
                            <TextBlock Text="/appupdate" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="4" Grid.Column="1" Margin="4" Click="Preset_DictUpdate_Click">
                            <TextBlock Text="/dictupdate" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="4" Grid.Column="2" Margin="4" Click="Preset_Version_Click">
                            <TextBlock Text="/version" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>

                        <Button Grid.Row="5" Grid.Column="0" Margin="4" Click="Preset_Install_Click">
                            <TextBlock Text="/install" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="5" Grid.Column="1" Margin="4" Click="Preset_Uninstall_Click">
                            <TextBlock Text="/uninstall" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="5" Grid.Column="2" Margin="4" Click="Preset_Help_Click">
                            <TextBlock Text="/help" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>

                        <Button Grid.Row="6" Grid.Column="0" Margin="4" Click="Preset_Apply_Click">
                            <TextBlock Text="/apply" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="6" Grid.Column="1" Margin="4" Click="Preset_Rollback_Click">
                            <TextBlock Text="/rollback" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                        <Button Grid.Row="6" Grid.Column="2" Margin="4" Click="Preset_QueryFormat_Click">
                            <TextBlock Text="/query-format" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Button>
                    </Grid>

                    <TextBlock x:Uid="CustomArgsLabel" FontWeight="SemiBold" Margin="0,6,0,0"/>
                    <TextBox x:Name="txtCustomArgs" x:Uid="CustomArgsBox" AcceptsReturn="False"/>

                    <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Left" Margin="0,8,0,0">
                        <Button x:Name="btnRunCustom" Width="200"
                                Style="{StaticResource AccentButtonStyle}"
                                Click="RunCustom_Click"
                                x:Uid="RunCustomButton"/>
                        <Button x:Name="btnOpenOutputPage" Click="OpenOutputPage_Click" x:Uid="OpenOutputPageButton"/>
                    </StackPanel>

                    <TextBlock x:Uid="RecentActionsLabel" FontWeight="SemiBold" Margin="0,12,0,0"/>
                    <ListView x:Name="lvHistory" MaxHeight="160" SelectionMode="Single"/>
                </StackPanel>
            </Border>

            <!-- reserved extension area -->
            <StackPanel>
                <!-- placeholder: add separate Border here if needed -->
            </StackPanel>

        </StackPanel>
    </ScrollViewer>
</Page>